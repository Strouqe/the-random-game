<div class="dialog">
  <div class="dialog__mission-info">
    <h1 mat-dialog-title>{{ this.data.mission.name }}</h1>
    <div class="dialog__mission-info__box-titles">
      <div class="dialog__mission-info__box-titles--characters">
        <h2>Available Characters</h2>
      </div>
      <div class="dialog__mission-info__box-titles--requirements">
        <h2>Character minimum requirements:</h2>
        <div>
          <p>Strength: {{ this.data.mission.requirements.strength }}</p>
          <p>Dexterity: {{ this.data.mission.requirements.dexterity }}</p>
          <p>Intelect: {{ this.data.mission.requirements.intelect }}</p>
        </div>
      </div>
    </div>
    <div class="dialog__character-select">
      <div class="dialog__container">
        <div
          cdkDropList
          #characterList="cdkDropList"
          [cdkDropListData]="characters"
          [cdkDropListConnectedTo]="[partyList]"
          class="dialog__container__list"
          (cdkDropListDropped)="drop($event)"
        >
          <!-- <mat-card
            cdkDrag
            *ngFor="let character of characters"
            class="characters__list--card"
          >
            <div class="characters__list__item">
              <img
                src="{{ character.image }}"
                alt="character-image"
                class="characters__list__item-image"
              />
              <div matLine class="characters__list__item-characteristics">
                <h4 matLine>{{ character.name }}</h4>
                <p>Strength: {{ character.characteristics.strength }}</p>
                <p>Dexterity: {{ character.characteristics.dexterity }}</p>
                <p>Intelect: {{ character.characteristics.intelect }}</p>
                <p>Income: {{ character.income }}</p>
              </div>
            </div>
          </mat-card> -->

          <mat-card
            cdkDrag
            *ngFor="let character of characters"
            class="characters__list__item"
          >
            <img
              src="{{ character.image }}"
              alt="characters__character-image"
              class="characters__list__item-image"
            />
            <div matLine class="characters__list__item-characteristics">
              <h4 matLine>{{ character.name }}</h4>
              <p>
                <span>Str:{{ character.characteristics.strength }} </span>
                <span>Dex: {{ character.characteristics.dexterity }} </span>
                <span>Int: {{ character.characteristics.intelect }}</span>
              </p>
              <p>Income: {{ character.income }}</p>
            </div>
          </mat-card>
        </div>
      </div>
      <div class="dialog__container">
        <h2>Choose {{ this.data.mission.partySize }} characters</h2>
        <div *ngIf="party.length == 0">Drop selected character here</div>
        <div
          cdkDropList
          #partyList="cdkDropList"
          [cdkDropListData]="party"
          [cdkDropListConnectedTo]="[characterList]"
          class="dialog__container__list"
          (cdkDropListDropped)="drop($event)"
        >
          <!-- <mat-card
            cdkDrag
            *ngFor="let character of party"
            class="characters__list--card"
          >
            <div class="characters__list__item">
              <img
                src="{{ character.image }}"
                alt="character-image"
                class="characters__list__item-image"
              />
              <div matLine class="characters__list__item-characteristics">
                <h4 matLine>{{ character.name }}</h4>
                <p>Strength: {{ character.characteristics.strength }}</p>
                <p>Dexterity: {{ character.characteristics.dexterity }}</p>
                <p>Intelect: {{ character.characteristics.intelect }}</p>
                <p>Income: {{ character.income }}</p>
              </div>
            </div>
          </mat-card> -->
          <mat-card
            cdkDrag
            *ngFor="let character of party"
            class="characters__list__item"
          >
            <img
              src="{{ character.image }}"
              alt="characters__character-image"
              class="characters__list__item-image"
            />
            <div matLine class="characters__list__item-characteristics">
              <h4 matLine>{{ character.name }}</h4>
              <p>
                <span>Str:{{ character.characteristics.strength }} </span>
                <span>Dex: {{ character.characteristics.dexterity }} </span>
                <span>Int: {{ character.characteristics.intelect }}</span>
              </p>
              <p>Income: {{ character.income }}</p>
            </div>
          </mat-card>
        </div>
      </div>
    </div>
    <div mat-dialog-content>Start the mission?</div>
    <div mat-dialog-actions>
      <button mat-button mat-dialog-close (click)="resumeGeneration()">
        No
      </button>
      <button
        mat-button
        mat-dialog-close
        mat-raised-button
        cdkFocusInitial
        [disabled]="party.length != this.data.mission.partySize"
        color="primary"
        (click)="onStartMission()"
      >
        Ok
      </button>
    </div>
    <button
      class="dialog__close"
      mat-button
      mat-dialog-close
      (click)="resumeGeneration()"
    >
      X
    </button>
  </div>
</div>
